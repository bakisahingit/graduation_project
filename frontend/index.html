<!doctype html>
<html lang="tr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Havalı Chat</title>
	<link rel="stylesheet" href="css/main.css">
	<!-- Prism.js stylesheet for beautiful code highlighting -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css">
</head>
<body>
	<div class="app-root">
		<!-- Sidebar -->
		<div class="sidebar" id="sidebar">
			<div class="sidebar-header">
				<button class="new-chat-btn" id="new-chat-btn">
					<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
					</svg>
					Yeni Sohbet
				</button>
				<button class="settings-btn" id="settings-btn">
					<img src="assets/settings.svg" alt="Ayarlar" class="btn-icon">
				</button>
			</div>
			
			<div class="model-selector-sidebar">
				<div class="custom-select-sidebar" id="custom-model-select-sidebar">
					<div class="select-trigger-sidebar" id="select-trigger-sidebar">
						<span class="select-value-sidebar">Model seçiliyor...</span>
						<svg class="select-arrow-sidebar" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
							<polyline points="6,9 12,15 18,9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
						</svg>
					</div>
					<div class="select-options-sidebar" id="select-options-sidebar">
						<div class="select-options-scroll" id="select-options-scroll">
							<!-- Options will be populated by JavaScript -->
						</div>
						<div class="add-model-option" id="add-model-option">
							<svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>
							Model Ekle
						</div>
					</div>
				</div>
				<select id="model-select-sidebar" aria-label="Model seçin" style="display: none;"></select>
			</div>
			
			<div class="molecule-drawer-section">
				<button class="molecule-drawer-btn" id="molecule-drawer-btn">
					<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
						<path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
						<path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
					</svg>
					Molekül Çiz
				</button>
			</div>
			
			<div class="conversation-history" id="conversation-history">
				<div class="history-title">Konuşma Geçmişi</div>
				<div class="history-list" id="history-list">
					<!-- Conversation history will be populated here -->
				</div>
			</div>
		</div>

		<!-- Main content area -->
		<div class="main-content">
			<!-- Initial welcome screen -->
			<div class="welcome-screen" id="welcome-screen">
			<div class="welcome-content">
				<h1 class="welcome-title">Havalı Chat</h1>
				<form id="welcome-form" class="welcome-input-wrapper">
					<div class="input-area">
						<textarea id="welcome-input" placeholder="Bir şey yazın... Enter ile gönder, Shift+Enter ile alt satıra" aria-label="Havalı giriş" rows="1"></textarea>
					</div>
					<div class="input-divider"></div>
					<div class="input-actions">
						<button type="button" class="tools-btn" id="welcome-tools-btn">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>
							Tools
						</button>
						<div class="tools-dropdown" id="welcome-tools-dropdown">
							<div class="tools-list">
								<button class="tool-item" id="welcome-admed-tool">
									<img src="assets/admed.svg" alt="AdMed" class="tool-item-icon" width="16" height="16">
									<div class="tool-item-content">
										<span class="tool-name">AdMed</span>
										<span class="tool-description">Backend bağlantı noktası</span>
									</div>
								</button>
							</div>
						</div>
						<button type="submit" id="welcome-send-btn" class="send-btn">
							<img src="../assets/send.svg" alt="Gönder" class="btn-icon">
						</button>
					</div>
				</form>
			</div>
		</div>

		<!-- Chat interface (hidden initially) -->
		<div class="chat-interface" id="chat-interface" style="display: none;">
			<div class="messages-container">
				<div class="messages" id="messages" aria-live="polite"></div>
			</div>
			<div class="input-container">
				<form id="chat-form" class="input-wrapper">
					<div class="input-area">
						<textarea id="chat-input" placeholder="Bir şey yazın... Enter ile gönder, Shift+Enter ile alt satıra" aria-label="Havalı giriş" rows="1"></textarea>
					</div>
					<div class="input-divider"></div>
					<div class="input-actions">
						<button type="button" class="tools-btn" id="chat-tools-btn">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>
							Tools
						</button>
						<div class="tools-dropdown" id="chat-tools-dropdown">
							<div class="tools-list">
								<button class="tool-item" id="chat-admed-tool">
									<img src="assets/admed.svg" alt="AdMed" class="tool-item-icon" width="16" height="16">
									<div class="tool-item-content">
										<span class="tool-name">AdMed</span>
										<span class="tool-description">Backend bağlantı noktası</span>
									</div>
								</button>
							</div>
						</div>
						<button type="submit" id="chat-send-btn" class="send-btn">
							<img src="../assets/send.svg" alt="Gönder" class="btn-icon">
						</button>
					</div>
				</form>
			</div>
		</div>
		</div>
	</div>

	<!-- Settings Modal -->
	<div class="settings-modal" id="settings-modal">
		<div class="settings-overlay" id="settings-overlay"></div>
		<div class="settings-content">
			<div class="settings-header">
				<h2 class="settings-title">Ayarlar</h2>
				<button class="settings-close" id="settings-close">
					<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
					</svg>
				</button>
			</div>
			<div class="settings-navigation">
				<button class="settings-nav-btn active" data-tab="models">Modeller</button>
			</div>
			<div class="settings-body">
				<div class="settings-tab active" id="models-tab">
					<div class="models-list" id="models-list">
						<!-- Models will be populated by JavaScript -->
					</div>
				</div>
			</div>
		</div>
	</div>


	<!-- Molecule Drawer Modal -->
	<div class="molecule-modal" id="molecule-modal">
		<div class="molecule-overlay" id="molecule-overlay"></div>
		<div class="molecule-content">
			<div class="molecule-header">
				<h2 class="molecule-title">Molekül Çizici</h2>
				<button class="molecule-close" id="molecule-close">
					<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
					</svg>
				</button>
			</div>
			<div class="molecule-body">
				<div class="molecule-panel">
					<div class="molecule-display" id="molecule-display">
						<div class="molecule-placeholder" id="molecule-placeholder">
							<svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
								<path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
								<path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>
							<p>Molekül yapısı burada görünecek</p>
							<p class="placeholder-hint">SMILES formatında bir molekül girin (örn: CCO, C1=CC=CC=C1)</p>
						</div>
						<canvas id="molecule-canvas" width="400" height="300" style="display: none;"></canvas>
						<div class="molecule-error" id="molecule-error" style="display: none;">
							<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
								<circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
								<line x1="15" y1="9" x2="9" y2="15" stroke="currentColor" stroke-width="2"/>
								<line x1="9" y1="9" x2="15" y2="15" stroke="currentColor" stroke-width="2"/>
							</svg>
							<p>Geçersiz SMILES formatı</p>
						</div>
					</div>
				</div>
				<div class="smiles-input-section">
					<label for="smiles-input" class="smiles-label">SMILES Formatı:</label>
					<textarea id="smiles-input" class="smiles-textarea" placeholder="Molekülün SMILES formatını buraya yazın... (örn: CCO, C1=CC=CC=C1)" rows="3"></textarea>
					<div class="molecule-actions">
						<button class="molecule-action-btn" id="clear-molecule">Temizle</button>
						<button class="molecule-action-btn primary" id="insert-molecule">Sohbete Ekle</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Markdown renderer, sanitizer and syntax highlighter -->
	<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/dompurify@2.3.8/dist/purify.min.js"></script>
	<!-- Custom molecule visualization system -->
	<!-- Prism.js for beautiful code highlighting -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
	<script type="module" src="js/main.js"></script>
</body>
</html>
