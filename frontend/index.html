<!doctype html>
<html lang="tr">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>ADMETGPT</title>
	<link rel="stylesheet" href="css/main.css">
	<!-- Prism.js stylesheet for beautiful code highlighting -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css">
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css">
	<!-- 3Dmol.js for 3D molecule visualization -->
	<script src="https://3dmol.org/build/3Dmol-min.js"></script>
</head>

<body>
	<div class="app-root">
		<!-- Sidebar -->
		<div class="sidebar" id="sidebar">
			<div class="sidebar-header">
				<button class="new-chat-btn" id="new-chat-btn">
					<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"
							stroke-linejoin="round" />
					</svg>
					Yeni Sohbet
				</button>
				<button class="settings-btn" id="settings-btn">
					<img src="assets/settings.svg" alt="Ayarlar" class="btn-icon">
				</button>
			</div>

			<!-- Model selector moved to input wrapper -->

			<!-- Molecule drawer moved to input wrapper -->

			<div class="pinned-conversations" id="pinned-conversations">
				<div class="history-title">Pinned</div>
				<div class="history-list" id="pinned-list">
					<!-- Pinned conversations will be populated here -->
				</div>
			</div>

			<div class="conversation-history" id="conversation-history">
				<div class="history-title">Konuşma Geçmişi</div>
				<div class="history-list" id="history-list">
					<!-- Conversation history will be populated here -->
				</div>
			</div>
		</div>

		<!-- Main content area -->
		<div class="main-content">
			<!-- Initial welcome screen -->
			<div class="welcome-screen" id="welcome-screen">
				<div class="welcome-content">
					<h1 class="welcome-title">ADMETGPT</h1>
					<p class="welcome-subtitle">Eczacılar için molekül toksisite ve ADMET analiz asistanı</p>
					<div class="welcome-sections" id="welcome-sections">
						<section id="quick-start-section" class="quick-start-plain">
							<div class="card-grid" id="quick-start-grid"></div>
						</section>
					</div>
					<!-- Compact shortcuts floating top-right -->
					<div id="shortcuts-floating" class="shortcuts-floating" aria-hidden="false">
						<div class="shortcuts-mini" id="shortcuts-panel">
							<div class="shortcuts-mini-title">Kısayollar</div>
							<div class="shortcuts-mini-list">
								<div class="shortcut-item">
									<div class="shortcut-desc" title="Molekül Çizici">Molekül Çizici</div>
									<div class="shortcut-key"><kbd data-action="molecule">Alt+M</kbd></div>
								</div>
								<div class="shortcut-item">
									<div class="shortcut-desc" title="AdMet Tools">AdMet Tools</div>
									<div class="shortcut-key"><kbd data-action="admet">Alt+N</kbd></div>
								</div>
							</div>
						</div>
					</div>
					<div class="empty-state" id="empty-state">Bir konu seç veya yazmaya başla</div>
					<form id="welcome-form" class="welcome-input-wrapper">
						<div class="input-area">
							<div class="file-chips" id="welcome-file-chips" aria-live="polite"></div>
							<div class="input-divider chips-divider"></div>
							<textarea id="welcome-input"
								placeholder="İlaç etkileşimleri veya güvenlik hakkında sorun..."
								aria-label="Mesaj girişi" rows="1"></textarea>
						</div>
						<div class="input-divider"></div>
						<div class="input-actions">
							<div class="left-buttons">
								<button type="button" class="add-btn" id="welcome-add-btn">
									<svg width="16" height="16" viewBox="0 0 24 24" fill="none"
										xmlns="http://www.w3.org/2000/svg">
										<path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2"
											stroke-linecap="round" stroke-linejoin="round" />
									</svg>
								</button>
								<div class="panel-container add-dropdown" id="welcome-add-dropdown">
									<div class="panel-content add-options">
										<button type="button" class="panel-item add-option" id="welcome-file-upload">
											<svg width="16" height="16" viewBox="0 0 24 24" fill="none"
												xmlns="http://www.w3.org/2000/svg">
												<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
													stroke="currentColor" stroke-width="2" stroke-linecap="round"
													stroke-linejoin="round" />
												<polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"
													stroke-linecap="round" stroke-linejoin="round" />
												<line x1="16" y1="13" x2="8" y2="13" stroke="currentColor"
													stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
												<line x1="16" y1="17" x2="8" y2="17" stroke="currentColor"
													stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
												<polyline points="10,9 9,9 8,9" stroke="currentColor" stroke-width="2"
													stroke-linecap="round" stroke-linejoin="round" />
											</svg>
											Dosya Ekle
										</button>
										<button type="button" class="panel-item add-option" id="welcome-molecule-draw">
											<svg width="16" height="16" viewBox="0 0 24 24" fill="none"
												xmlns="http://www.w3.org/2000/svg">
												<path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor"
													stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
												<path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2"
													stroke-linecap="round" stroke-linejoin="round" />
												<path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2"
													stroke-linecap="round" stroke-linejoin="round" />
											</svg>
											Molekül Çiz
										</button>
									</div>
								</div>
								<button type="button" class="tools-btn" id="welcome-tools-btn">
									<svg width="16" height="16" viewBox="0 0 24 24" fill="none"
										xmlns="http://www.w3.org/2000/svg">
										<path
											d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"
											stroke="currentColor" stroke-width="2" stroke-linecap="round"
											stroke-linejoin="round" />
									</svg>
									Tools
								</button>
								<div class="panel-container tools-dropdown" id="welcome-tools-dropdown">
									<div class="panel-content tools-options">
										<button type="button" class="panel-item tool-option" id="welcome-admet-tool">
											<svg class="tool-option-icon" viewBox="0 0 32 32" fill="currentColor"
												xmlns="http://www.w3.org/2000/svg">
												<path
													d="M 14 5 C 12.90625 5 12 5.90625 12 7 L 12 8 L 6 8 C 4.355469 8 3 9.355469 3 11 L 3 26 L 29 26 L 29 11 C 29 9.355469 27.644531 8 26 8 L 20 8 L 20 7 C 20 5.90625 19.09375 5 18 5 Z M 14 7 L 18 7 L 18 8 L 14 8 Z M 6 10 L 26 10 C 26.566406 10 27 10.433594 27 11 L 27 24 L 5 24 L 5 11 C 5 10.433594 5.433594 10 6 10 Z M 15 13 L 15 16 L 12 16 L 12 18 L 15 18 L 15 21 L 17 21 L 17 18 L 20 18 L 20 16 L 17 16 L 17 13 Z"
													fill="currentColor" />
											</svg>
											ADMET
										</button>
										<button type="button" class="panel-item tool-option" id="welcome-compare-tool">
											<svg width="16" height="16" viewBox="0 0 24 24" fill="none"
												xmlns="http://www.w3.org/2000/svg">
												<path d="M18 20V10M12 20V4M6 20V14" stroke="currentColor"
													stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
											</svg>
											Molekül Karşılaştır
										</button>
									</div>
								</div>
							</div>
							<div class="right-buttons">
								<div class="model-selector-input">
									<div class="custom-select-input" id="custom-model-select-welcome">
										<div class="select-trigger-input" id="select-trigger-welcome">
											<span class="select-value-input">Model</span>
											<svg class="select-arrow-input" width="12" height="12" viewBox="0 0 24 24"
												fill="none" xmlns="http://www.w3.org/2000/svg">
												<polyline points="6,9 12,15 18,9" stroke="currentColor" stroke-width="2"
													stroke-linecap="round" stroke-linejoin="round" />
											</svg>
										</div>
										<div class="panel-container select-options-input" id="select-options-welcome">
											<!-- Options will be populated by JavaScript -->
										</div>
									</div>
									<select id="model-select-welcome" aria-label="Model seçin"
										style="display: none;"></select>
								</div>
								<button type="submit" id="welcome-send-btn" class="send-btn">
									<img src="../assets/send.svg" alt="Gönder" class="btn-icon">
								</button>
							</div>
						</div>
					</form>
				</div>
			</div>

			<!-- Chat interface (hidden initially) -->
			<div class="chat-interface" id="chat-interface" style="display: none;">
				<div class="messages-container">
					<div class="messages" id="messages" aria-live="polite"></div>
				</div>
				<div class="input-container">
					<form id="chat-form" class="input-wrapper">
						<div class="input-area">
							<div class="file-chips" id="chat-file-chips" aria-live="polite"></div>
							<div class="input-divider chips-divider"></div>
							<textarea id="chat-input" placeholder="İlaç etkileşimleri veya güvenlik hakkında sorun..."
								aria-label="Mesaj girişi" rows="1"></textarea>
						</div>
						<div class="input-divider"></div>
						<div class="input-actions">
							<div class="left-buttons">
								<button type="button" class="add-btn" id="chat-add-btn">
									<svg width="16" height="16" viewBox="0 0 24 24" fill="none"
										xmlns="http://www.w3.org/2000/svg">
										<path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2"
											stroke-linecap="round" stroke-linejoin="round" />
									</svg>
								</button>
								<div class="panel-container add-dropdown" id="chat-add-dropdown">
									<div class="panel-content add-options">
										<button type="button" class="panel-item add-option" id="chat-file-upload">
											<svg width="16" height="16" viewBox="0 0 24 24" fill="none"
												xmlns="http://www.w3.org/2000/svg">
												<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
													stroke="currentColor" stroke-width="2" stroke-linecap="round"
													stroke-linejoin="round" />
												<polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"
													stroke-linecap="round" stroke-linejoin="round" />
												<line x1="16" y1="13" x2="8" y2="13" stroke="currentColor"
													stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
												<line x1="16" y1="17" x2="8" y2="17" stroke="currentColor"
													stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
												<polyline points="10,9 9,9 8,9" stroke="currentColor" stroke-width="2"
													stroke-linecap="round" stroke-linejoin="round" />
											</svg>
											Dosya Ekle
										</button>
										<button type="button" class="panel-item add-option" id="chat-molecule-draw">
											<svg width="16" height="16" viewBox="0 0 24 24" fill="none"
												xmlns="http://www.w3.org/2000/svg">
												<path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor"
													stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
												<path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2"
													stroke-linecap="round" stroke-linejoin="round" />
												<path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2"
													stroke-linecap="round" stroke-linejoin="round" />
											</svg>
											Molekül Çiz
										</button>
									</div>
								</div>
								<button type="button" class="tools-btn" id="chat-tools-btn">
									<svg width="16" height="16" viewBox="0 0 24 24" fill="none"
										xmlns="http://www.w3.org/2000/svg">
										<path
											d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"
											stroke="currentColor" stroke-width="2" stroke-linecap="round"
											stroke-linejoin="round" />
									</svg>
									Tools
								</button>
								<div class="panel-container tools-dropdown" id="chat-tools-dropdown">
									<div class="panel-content tools-options">
										<button type="button" class="panel-item tool-option" id="chat-admet-tool">
											<svg class="tool-option-icon" viewBox="0 0 32 32" fill="currentColor"
												xmlns="http://www.w3.org/2000/svg">
												<path
													d="M 14 5 C 12.90625 5 12 5.90625 12 7 L 12 8 L 6 8 C 4.355469 8 3 9.355469 3 11 L 3 26 L 29 26 L 29 11 C 29 9.355469 27.644531 8 26 8 L 20 8 L 20 7 C 20 5.90625 19.09375 5 18 5 Z M 14 7 L 18 7 L 18 8 L 14 8 Z M 6 10 L 26 10 C 26.566406 10 27 10.433594 27 11 L 27 24 L 5 24 L 5 11 C 5 10.433594 5.433594 10 6 10 Z M 15 13 L 15 16 L 12 16 L 12 18 L 15 18 L 15 21 L 17 21 L 17 18 L 20 18 L 20 16 L 17 16 L 17 13 Z"
													fill="currentColor" />
											</svg>
											ADMET
										</button>
										<button type="button" class="panel-item tool-option" id="chat-compare-tool">
											<svg width="16" height="16" viewBox="0 0 24 24" fill="none"
												xmlns="http://www.w3.org/2000/svg">
												<path d="M18 20V10M12 20V4M6 20V14" stroke="currentColor"
													stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
											</svg>
											Molekül Karşılaştır
										</button>
									</div>
								</div>
							</div>
							<div class="right-buttons">
								<div class="model-selector-input">
									<div class="custom-select-input" id="custom-model-select-chat">
										<div class="select-trigger-input" id="select-trigger-chat">
											<span class="select-value-input">Model</span>
											<svg class="select-arrow-input" width="12" height="12" viewBox="0 0 24 24"
												fill="none" xmlns="http://www.w3.org/2000/svg">
												<polyline points="6,9 12,15 18,9" stroke="currentColor" stroke-width="2"
													stroke-linecap="round" stroke-linejoin="round" />
											</svg>
										</div>
										<div class="panel-container select-options-input" id="select-options-chat">
											<!-- Options will be populated by JavaScript -->
										</div>
									</div>
									<select id="model-select-chat" aria-label="Model seçin"
										style="display: none;"></select>
								</div>
								<button type="submit" id="chat-send-btn" class="send-btn">
									<img src="../assets/send.svg" alt="Gönder" class="btn-icon">
								</button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>

	<!-- Settings Modal -->
	<div class="modal" id="settings-modal">
		<div class="modal-overlay" id="settings-overlay"></div>
		<div class="modal-content settings-content">
			<div class="settings-header">
				<h2 class="settings-title">Ayarlar</h2>
				<button class="settings-close" id="settings-close">
					<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"
							stroke-linejoin="round" />
					</svg>
				</button>
			</div>
			<div class="settings-navigation">
				<button class="settings-nav-btn active" data-tab="models">Modeller</button>
				<button class="settings-nav-btn" data-tab="theme">Tema</button>
				<button class="settings-nav-btn" data-tab="shortcuts">Kısayollar</button>
			</div>
			<div class="settings-body">
				<div class="settings-tab active" id="models-tab">
					<div class="models-search-container">
						<input type="text" id="models-search" class="models-search" placeholder="Model ara..."
							autocomplete="off">
					</div>
					<div class="models-list" id="models-list">
						<!-- Models will be populated by JavaScript -->
					</div>
				</div>
				<div class="settings-tab" id="theme-tab" style="display:none;">
					<div class="theme-settings">
						<h3 class="theme-section-title">Görünüm</h3>
						<p class="theme-description">Uygulamanın renk temasını seçin.</p>
						<div class="theme-options">
							<label class="theme-option">
								<input type="radio" name="theme" value="dark" checked>
								<div class="theme-option-content">
									<div class="theme-preview dark-preview">
										<div class="preview-header"></div>
										<div class="preview-sidebar"></div>
										<div class="preview-content"></div>
									</div>
									<span class="theme-label">Koyu</span>
								</div>
							</label>
							<label class="theme-option">
								<input type="radio" name="theme" value="light">
								<div class="theme-option-content">
									<div class="theme-preview light-preview">
										<div class="preview-header"></div>
										<div class="preview-sidebar"></div>
										<div class="preview-content"></div>
									</div>
									<span class="theme-label">Açık</span>
								</div>
							</label>
						</div>
					</div>
				</div>
				<div class="settings-tab" id="shortcuts-tab" style="display:none;">
					<div class="panel-content" style="display:flex;flex-direction:column;gap:12px;padding:12px;">
						<div class="shortcut-row">
							<label for="shortcut-molecule">Molekül Çizici:</label>
							<span id="shortcut-molecule-display" class="shortcut-display">Alt+M</span>
							<div style="display:flex;gap:8px;align-items:center">
								<button type="button" id="change-shortcut-molecule"
									class="btn btn-secondary">Değiştir</button>
								<button type="button" id="reset-shortcut-molecule" class="btn btn-secondary">Varsayıla
									Dön</button>
							</div>
						</div>
						<div class="shortcut-row">
							<label for="shortcut-admet">ADMET Toggle:</label>
							<span id="shortcut-admet-display" class="shortcut-display">Alt+N</span>
							<div style="display:flex;gap:8px;align-items:center">
								<button type="button" id="change-shortcut-admet"
									class="btn btn-secondary">Değiştir</button>
								<button type="button" id="reset-shortcut-admet" class="btn btn-secondary">Varsayıla
									Dön</button>
							</div>
						</div>
						<p style="color:var(--gray-400);font-size:13px;margin-top:6px;">Değiştir butonuna bastıktan
							sonra yeni kısayolu klavyeden girin (örn. Alt+M). Esc ile iptal edebilirsiniz.</p>
					</div>
				</div>
			</div>
		</div>
	</div>


	<!-- Molecule Drawer Modal -->
	<div class="molecule-modal" id="molecule-modal">
		<div class="molecule-overlay" id="molecule-overlay"></div>
		<div class="molecule-content">
			<div class="molecule-header">
				<div class="molecule-header-left">
					<div class="molecule-icon">
						<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2"
								stroke-linecap="round" stroke-linejoin="round" />
							<path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round"
								stroke-linejoin="round" />
							<path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"
								stroke-linejoin="round" />
						</svg>
					</div>
					<div class="molecule-title-section">
						<h2 class="molecule-title">Molekül Çizici</h2>
						<p class="molecule-subtitle">Molekül yapılarını çizin ve analiz edin</p>
					</div>
				</div>
				<button class="molecule-close" id="molecule-close">
					<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"
							stroke-linejoin="round" />
					</svg>
				</button>
			</div>
			<div class="molecule-body">
				<div class="molecule-main-content">
					<div class="molecule-panel glassmorphism">
						<!-- View Mode Toggle (2D/3D) -->
						<div class="view-mode-toggle">
							<button class="view-mode-btn active" id="view-mode-2d" data-mode="2D">
								<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
									<circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
								</svg>
								2D
							</button>
							<button class="view-mode-btn" id="view-mode-3d" data-mode="3D">
								<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
									<path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
									<path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
								</svg>
								3D
							</button>
						</div>
						<!-- 3D Style Selector (visible only in 3D mode) -->
						<div class="style-3d-selector" id="style-3d-selector" style="display: none;">
							<button class="style-3d-btn active" data-style="stick" title="Stick Model">
								<svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<line x1="4" y1="20" x2="20" y2="4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
								</svg>
							</button>
							<button class="style-3d-btn" data-style="sphere" title="Space-filling (Sphere)">
								<svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/>
								</svg>
							</button>
							<button class="style-3d-btn" data-style="ballstick" title="Ball and Stick">
								<svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<circle cx="6" cy="18" r="4" stroke="currentColor" stroke-width="2"/>
									<circle cx="18" cy="6" r="4" stroke="currentColor" stroke-width="2"/>
									<line x1="9" y1="15" x2="15" y2="9" stroke="currentColor" stroke-width="2"/>
								</svg>
							</button>
						</div>
						<div class="molecule-display" id="molecule-display">
							<div class="molecule-placeholder" id="molecule-placeholder">
								<svg width="48" height="48" viewBox="0 0 24 24" fill="none"
									xmlns="http://www.w3.org/2000/svg">
									<path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2"
										stroke-linecap="round" stroke-linejoin="round" />
									<path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2"
										stroke-linecap="round" stroke-linejoin="round" />
									<path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2"
										stroke-linecap="round" stroke-linejoin="round" />
								</svg>
								<p>Molekül yapısı burada görünecek</p>
								<p class="placeholder-hint">SMILES formatında bir molekül girin</p>
							</div>
							<!-- 2D Canvas -->
							<canvas id="molecule-canvas" width="400" height="300" style="display: none;"></canvas>
							<!-- 3D Viewer Container -->
							<div id="molecule-3d-viewer" class="molecule-3d-viewer" style="display: none;"></div>
							<!-- 3D Loading Indicator -->
							<div id="molecule-3d-loading" class="molecule-3d-loading" style="display: none;">
								<div class="loading-spinner-3d"></div>
								<p>3D model yükleniyor...</p>
							</div>
							<div class="molecule-error" id="molecule-error" style="display: none;">
								<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
									xmlns="http://www.w3.org/2000/svg">
									<circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
									<line x1="15" y1="9" x2="9" y2="15" stroke="currentColor" stroke-width="2" />
									<line x1="9" y1="9" x2="15" y2="15" stroke="currentColor" stroke-width="2" />
								</svg>
								<p>Geçersiz SMILES formatı</p>
							</div>
							<!-- Move SMILES display to be top-left inside molecule panel -->
							<div class="molecule-smiles-overlay top-left">
								<div class="smiles-overlay-label">SMILES:</div>
								<div class="smiles-overlay-value" id="smiles-display">-</div>
							</div>
							<!-- Hydrogen toggle: shows/hides implicit H atoms -->
							<div class="molecule-zoom-overlay">
								<label class="h-toggle" title="H atomlarını göster/gizle">
									<input type="checkbox" id="toggle-hydrogens">
									<span class="h-toggle-slider" aria-hidden="true"></span>
								</label>
							</div>
						</div>
					</div>
					<div class="molecule-sidebar">
						<div class="molecule-info-panel" id="molecule-info-panel">
							<div class="info-header">
								<h3 class="info-title">Molekül Özellikleri</h3>
								<a id="pubchem-open-link" class="info-open-btn" href="#" target="_blank"
									rel="noopener">PubChem'de aç</a>
							</div>
							<div class="input-divider info-divider"></div>
							<div class="info-content">
								<!-- Info content intentionally left empty. PubChem results will populate here when available. -->
							</div>
						</div>
					</div>
				</div>
				<div class="smiles-input-section">
					<form id="molecule-query-form" class="welcome-input-wrapper">
						<div class="input-area">
							<textarea id="molecule-query-input"
								placeholder="Örn: kafein çiz veya kafein riskini analiz et" rows="1"></textarea>
						</div>
						<div class="input-divider"></div>
						<div class="input-actions">
							<!-- left-buttons intentionally removed (search/export removed) -->
							<div class="left-buttons"></div>
							<div class="right-buttons">
								<button type="button" id="molecule-query-send" class="send-btn">
									<img src="../assets/send.svg" alt="Gönder" class="btn-icon">
								</button>
							</div>
						</div>
					</form>
					<!-- Hidden SMILES field kept for compatibility with existing JS that expects #smiles-input -->
					<textarea id="smiles-input" class="smiles-textarea" placeholder="Resolved SMILES" rows="3"
						style="display: none;"></textarea>
				</div>
			</div>
		</div>
	</div>

	<!-- Context Menu for Conversation History -->
	<div class="conversation-menu" id="conversation-menu">
		<button class="menu-item" id="menu-pin">
			<span class="menu-icon">
				<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path
						d="M11.9999 17V21M6.9999 12.6667V6C6.9999 4.89543 7.89533 4 8.9999 4H14.9999C16.1045 4 16.9999 4.89543 16.9999 6V12.6667L18.9135 15.4308C19.3727 16.094 18.898 17 18.0913 17H5.90847C5.1018 17 4.62711 16.094 5.08627 15.4308L6.9999 12.6667Z"
						stroke="currentColor" stroke-width="2" stroke-linecap="round" />
				</svg>
			</span>
			<span class="menu-text">Pin</span>
		</button>
		<button class="menu-item" id="menu-rename">
			<span class="menu-icon">
				<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" stroke="currentColor"
						stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
					<path d="m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z" stroke="currentColor" stroke-width="2"
						stroke-linecap="round" stroke-linejoin="round" />
				</svg>
			</span>
			<span class="menu-text">Rename</span>
		</button>
		<button class="menu-item delete" id="menu-delete">
			<span class="menu-icon">
				<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
					<polyline points="3,6 5,6 21,6" stroke="currentColor" stroke-width="2" stroke-linecap="round"
						stroke-linejoin="round" />
					<path d="m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"
						stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
					<line x1="10" y1="11" x2="10" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"
						stroke-linejoin="round" />
					<line x1="14" y1="11" x2="14" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"
						stroke-linejoin="round" />
				</svg>
			</span>
			<span class="menu-text">Delete</span>
		</button>
	</div>
	<!-- ADMET Settings Modal -->
	<div class="modal" id="admet-settings-modal">
		<div class="modal-overlay" id="admet-settings-overlay"></div>
		<div class="modal-content admet-settings-content">
			<div class="modal-header">
				<div class="modal-header-content">
					<svg class="modal-header-icon" viewBox="0 0 32 32" fill="currentColor"
						xmlns="http://www.w3.org/2000/svg">
						<path
							d="M 14 5 C 12.90625 5 12 5.90625 12 7 L 12 8 L 6 8 C 4.355469 8 3 9.355469 3 11 L 3 26 L 29 26 L 29 11 C 29 9.355469 27.644531 8 26 8 L 20 8 L 20 7 C 20 5.90625 19.09375 5 18 5 Z M 14 7 L 18 7 L 18 8 L 14 8 Z M 6 10 L 26 10 C 26.566406 10 27 10.433594 27 11 L 27 24 L 5 24 L 5 11 C 5 10.433594 5.433594 10 6 10 Z M 15 13 L 15 16 L 12 16 L 12 18 L 15 18 L 15 21 L 17 21 L 17 18 L 20 18 L 20 16 L 17 16 L 17 13 Z"
							fill="currentColor" />
					</svg>
					<div>
						<h2 class="modal-title">ADMET Analiz Parametreleri</h2>
						<p class="modal-description">Analize dahil edilecek parametreleri seçin. Seçim yapılmazsa
							varsayılan analiz çalıştırılır.</p>
					</div>
				</div>
				<button class="modal-close" id="admet-settings-close">
					<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"
							stroke-linejoin="round" />
					</svg>
				</button>
			</div>
			<div class="modal-body">
				<div id="admet-parameters-container">
					<h3 class="modal-subtitle">Toksisite</h3>
					<div class="checkbox-grid">
						<label><input type="checkbox" name="admet_param" value="Ames"> Ames Mutagenicity</label>
						<label><input type="checkbox" name="admet_param" value="hERG"> hERG Blockade</label>
						<label><input type="checkbox" name="admet_param" value="DILI"> DILI (Liver Injury)</label>
						<label><input type="checkbox" name="admet_param" value="Hepatotoxicity"> Hepatotoxicity</label>
					</div>

					<h3 class="modal-subtitle">ADME</h3>
					<div class="checkbox-grid">
						<label><input type="checkbox" name="admet_param" value="HIA"> HIA (Intestinal
							Absorption)</label>
						<label><input type="checkbox" name="admet_param" value="BBB"> BBB (Blood-Brain Barrier)</label>
						<label><input type="checkbox" name="admet_param" value="Caco2"> Caco-2 Permeability</label>
						<label><input type="checkbox" name="admet_param" value="Pgp_inh"> P-gp Inhibition</label>
						<label><input type="checkbox" name="admet_param" value="CYP2C9_inhib"> CYP2C9 Inhibition</label>
						<label><input type="checkbox" name="admet_param" value="CYP2D6_inhib"> CYP2D6 Inhibition</label>
						<label><input type="checkbox" name="admet_param" value="CYP3A4_inhib"> CYP3A4 Inhibition</label>
						<label><input type="checkbox" name="admet_param" value="Clearance"> Clearance</label>
						<label><input type="checkbox" name="admet_param" value="VDss"> VDss</label>
					</div>

					<h3 class="modal-subtitle">Fizikokimyasal Özellikler</h3>
					<div class="checkbox-grid">
						<label><input type="checkbox" name="admet_param" value="Solubility"> Aqueous Solubility</label>
						<label><input type="checkbox" name="admet_param" value="LogP"> LogP (Lipophilicity)</label>
						<label><input type="checkbox" name="admet_param" value="MolWt"> Molecular Weight</label>
						<label><input type="checkbox" name="admet_param" value="Physico-Chemical Properties"> All
							Phys-Chem Properties</label>
					</div>

					<h3 class="modal-subtitle">Diğer</h3>
					<div class="checkbox-grid">
						<label><input type="checkbox" name="admet_param" value="Structural Alerts"> Structural Alerts
							(PAINS/Brenk)</label>
						<label><input type="checkbox" name="admet_param" value="Uncertainty Notes"> Uncertainty
							Notes</label>
						<label><input type="checkbox" name="admet_param" value="Experimental Data"> Experimental Data
							(PubChem/ChEMBL)</label>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button class="btn btn-secondary" id="admet-settings-cancel">İptal</button>
				<button class="btn btn-primary" id="save-admet-settings">Ayarları Kaydet</button>
			</div>
		</div>
	</div>

	<div class="modal" id="compare-modal">
		<div class="modal-overlay" id="compare-overlay"></div>
		<div class="modal-content">
			<div class="modal-header">
				<h2 class="modal-title">Molekülleri Karşılaştır</h2>
				<button class="modal-close" id="compare-close">
					<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"
							stroke-linejoin="round" />
					</svg>
				</button>
			</div>
			<div class="modal-body">
				<p class="modal-description">Karşılaştırılacak molekülleri ekleyin. Eklediğiniz her molekül aşağıda bir
					etiket
					olarak görünecektir.</p>

				<div class="molecule-input-group">
					<input type="text" id="molecule-add-input" placeholder="Molekül adı veya SMILES girin...">
					<button id="add-molecule-btn">Ekle</button>
				</div>

				<div id="molecule-tags-container">
				</div>

				<div id="admet-properties-container">
					<h3 class="modal-subtitle">Karşılaştırılacak Özellikler</h3>
					<div class="checkbox-grid">
						<label><input type="checkbox" name="admet_property" value="Ames" checked> Ames
							Mutajenisite</label>
						<label><input type="checkbox" name="admet_property" value="hERG" checked> hERG Blokajı</label>
						<label><input type="checkbox" name="admet_property" value="DILI" checked> DILI (Karaciğer
							Hasarı)</label>
						<label><input type="checkbox" name="admet_property" value="HIA" checked> HIA (Bağırsak
							Emilimi)</label>
						<label><input type="checkbox" name="admet_property" value="BBB" checked> BBB (Kan-Beyin
							Bariyeri)</label>
						<label><input type="checkbox" name="admet_property" value="Caco2"> Caco-2 Geçirgenliği</label>
						<label><input type="checkbox" name="admet_property" value="CYP2C9_inhib"> CYP2C9
							İnhibisyonu</label>
						<label><input type="checkbox" name="admet_property" value="CYP2D6_inhib"> CYP2D6
							İnhibisyonu</label>
						<label><input type="checkbox" name="admet_property" value="CYP3A4_inhib"> CYP3A4
							İnhibisyonu</label>
						<label><input type="checkbox" name="admet_property" value="LogP"> LogP (Lipofilisite)</label>
						<label><input type="checkbox" name="admet_property" value="Solubility"> Çözünürlük</label>
						<label><input type="checkbox" name="admet_property" value="MolWt"> Molekül Ağırlığı</label>
					</div>
				</div>

				<div class="modal-actions">
					<button class="modal-action-btn" id="run-comparison">Karşılaştırmayı Başlat</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Aurora Background Glow Elements -->
	<div class="aurora-glow aurora-glow-1" aria-hidden="true"></div>
	<div class="aurora-glow aurora-glow-2" aria-hidden="true"></div>

	<!-- Charting Library -->
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

	<!-- PDF Export Libraries -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script>

	<!-- Markdown renderer, sanitizer and syntax highlighter -->
	<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/dompurify@2.3.8/dist/purify.min.js"></script>
	<!-- Custom molecule visualization system -->
	<!-- Prism.js for beautiful code highlighting -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
	<script type="module" src="js/main.js"></script>
</body>

</html>